#!/usr/bin/sed -f

# для пустых строк выполняется команда N,
# которая их читает в этом цикле
# примечание: в регулярном выражении использована звёздочка
# для задания любого числа '\n', которые вставляет команда N
# (во время первого прохода этого символа в строке вообще нет)
:x
/^\n*$/ {
	N
	bx
}

# сейчас у нас имеется непустая строка, перед которой стоят несколько
# символов '\n'
# все эти символы мы заменим на один перевод строки
s/\n*/\
/

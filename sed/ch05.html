<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Глава 5. Справочные материалы.</title><link rel="stylesheet" href="chs/default.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.1"><link rel="home" href="index.html" title="Краткий учебник по sed."><link rel="up" href="index.html" title="Краткий учебник по sed."><link rel="prev" href="ch04s18.html" title="Интерактивная sed."><link rel="next" href="ch05s02.html" title="Метасимволы и квантификаторы."></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Глава 5. Справочные материалы.</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch04s18.html">Пред.</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ch05s02.html">След.</a></td></tr></table><hr></div><div class="chapter" title="Глава 5. Справочные материалы."><div class="titlepage"><div><div><h2 class="title"><a name="id2527786"></a>Глава 5. <a name="ch5"></a>Справочные материалы.</h2></div></div></div><div class="toc"><p><b>Содержание</b></p><dl><dt><span class="section"><a href="ch05.html#id2527794">Команды sed</a></span></dt><dd><dl><dt><span class="section"><a href="ch05.html#id2527815"><span class="command"><strong>a, c, i</strong></span> (Вывод символов из sed-скрипта в выходной поток).</a></span></dt><dt><span class="section"><a href="ch05.html#id2527857"><span class="command"><strong>b, t, T</strong></span> (Команды переходов).</a></span></dt><dt><span class="section"><a href="ch05.html#id2528016">c (см. a, c, i).</a></span></dt><dt><span class="section"><a href="ch05.html#id2528028"><span class="command"><strong>d</strong></span> (блокировка строки).</a></span></dt><dt><span class="section"><a href="ch05.html#id2528092"><span class="command"><strong>D</strong></span> (блокировка первой подстроки в многострочном режиме).</a></span></dt><dt><span class="section"><a href="ch05.html#id2528181"><span class="command"><strong>e</strong></span> (выполнение команды оболочки).</a></span></dt><dt><span class="section"><a href="ch05.html#id2528218"><span class="command"><strong>g</strong></span> (загрузка области удержания в буфер).</a></span></dt><dt><span class="section"><a href="ch05.html#id2528238"><span class="command"><strong>G</strong></span> (добавление области удержания к буферу).</a></span></dt><dt><span class="section"><a href="ch05.html#id2528260"><span class="command"><strong>h</strong></span> (загрузка буфера в область удержания).</a></span></dt><dt><span class="section"><a href="ch05.html#id2528284"><span class="command"><strong>H</strong></span> (добавление буфера к области удержания).</a></span></dt><dt><span class="section"><a href="ch05.html#id2528309"><span class="command"><strong>i</strong></span> (см. a, c, i).</a></span></dt><dt><span class="section"><a href="ch05.html#id2528322"><span class="command"><strong>l (преобразование непечатных символов).</strong></span></a></span></dt><dt><span class="section"><a href="ch05.html#id2528371"><span class="command"><strong>L</strong></span> (обрезка строк).</a></span></dt><dt><span class="section"><a href="ch05.html#id2528441"><span class="command"><strong>n</strong></span> (загрузка следующей строки).</a></span></dt><dt><span class="section"><a href="ch05.html#id2528471"><span class="command"><strong>N</strong></span> (добавление следующей строки к буферу).</a></span></dt><dt><span class="section"><a href="ch05.html#id2528497"><span class="command"><strong>p</strong></span> (вывод буфера в выходной поток).</a></span></dt><dt><span class="section"><a href="ch05.html#id2528517"><span class="command"><strong>P</strong></span> (Вывод первой строки в выходной поток при многострочном режиме).</a></span></dt><dt><span class="section"><a href="ch05.html#id2528543"><span class="command"><strong>q</strong></span> (прерывание).</a></span></dt><dt><span class="section"><a href="ch05.html#id2528587"><span class="command"><strong>Q</strong></span> (прерывание без вывода буфера).</a></span></dt><dt><span class="section"><a href="ch05.html#id2528611"><span class="command"><strong>r</strong></span> (чтение файла).</a></span></dt><dt><span class="section"><a href="ch05.html#id2528632"><span class="command"><strong>R</strong></span> (чтение одной строки из файла).</a></span></dt><dt><span class="section"><a href="ch05.html#id2528652"><span class="command"><strong>s</strong></span> (поиск и замена подстроки).</a></span></dt><dt><span class="section"><a href="ch05.html#id2528686"><span class="command"><strong>t</strong></span> (См. <span class="command"><strong>b, t, T</strong></span>).</a></span></dt><dt><span class="section"><a href="ch05.html#id2528700"><span class="command"><strong>T</strong></span> (См. <span class="command"><strong>b, t, T</strong></span>).</a></span></dt><dt><span class="section"><a href="ch05.html#id2528721"><span class="command"><strong>v</strong></span> (проверка версии).</a></span></dt><dt><span class="section"><a href="ch05.html#id2528769"><span class="command"><strong>w</strong></span> (запись файла).</a></span></dt><dt><span class="section"><a href="ch05.html#id2528786"><span class="command"><strong>W</strong></span> (запись одной строки в файл).</a></span></dt><dt><span class="section"><a href="ch05.html#id2528811"><span class="command"><strong>x</strong></span> (обмен).</a></span></dt><dt><span class="section"><a href="ch05.html#id2528829"><span class="command"><strong>y</strong></span> (замена символов).</a></span></dt><dt><span class="section"><a href="ch05.html#id2528854"><span class="command"><strong>z</strong></span> (очистка).</a></span></dt></dl></dd><dt><span class="section"><a href="ch05s02.html">Метасимволы и квантификаторы.</a></span></dt><dd><dl><dt><span class="section"><a href="ch05s02.html#id2528955"><span class="quote">&#171;<span class="quote">.</span>&#187;</span> {точка} (любой символ).</a></span></dt><dt><span class="section"><a href="ch05s02.html#id2528987"> <span class="quote">&#171;<span class="quote">[abc]</span>&#187;</span> (символьный класс).</a></span></dt><dt><span class="section"><a href="ch05s02.html#id2529010"> <span class="quote">&#171;<span class="quote">[0-9]</span>&#187;</span>	(символьный диапазон).</a></span></dt><dt><span class="section"><a href="ch05s02.html#id2529238">[^xyz]	(класс исключения).</a></span></dt><dt><span class="section"><a href="ch05s02.html#id2529261">\s	(Пробельные символы).</a></span></dt><dt><span class="section"><a href="ch05s02.html#id2529282">\S (это любой не пробельный символ).</a></span></dt><dt><span class="section"><a href="ch05s02.html#id2529290">\w	(словообразующий символ).</a></span></dt><dt><span class="section"><a href="ch05s02.html#id2529313">\W (это не словообразующий символ).</a></span></dt><dt><span class="section"><a href="ch05s02.html#id2529320">\n	(перевод строки).</a></span></dt><dt><span class="section"><a href="ch05s02.html#id2529333">\oXXX (Восьмеричное представление символа).</a></span></dt><dt><span class="section"><a href="ch05s02.html#id2529341">() (скобки) и обратные ссылки (\1, \2, \3  и т.д.)</a></span></dt><dt><span class="section"><a href="ch05s02.html#id2529552"> <span class="quote">&#171;<span class="quote">|</span>&#187;</span> альтернатива</a></span></dt><dt><span class="section"><a href="ch05s02.html#id2529641">\ Экранирование.</a></span></dt><dt><span class="section"><a href="ch05s02.html#id2529697">\xXX (шестнадцатеричное).</a></span></dt><dt><span class="section"><a href="ch05s02.html#id2529708"> <span class="quote">&#171;<span class="quote">^</span>&#187;</span> (начало).</a></span></dt><dt><span class="section"><a href="ch05s02.html#id2529722"> <span class="quote">&#171;<span class="quote">$</span>&#187;</span> (конец).</a></span></dt><dt><span class="section"><a href="ch05s02.html#id2529748"> <span class="quote">&#171;<span class="quote">\&lt;</span>&#187;</span> (левая граница слова).</a></span></dt><dt><span class="section"><a href="ch05s02.html#id2529782"> <span class="quote">&#171;<span class="quote">\&gt;</span>&#187;</span> (правая граница).</a></span></dt><dt><span class="section"><a href="ch05s02.html#id2529803"> <span class="quote">&#171;<span class="quote">\b</span>&#187;</span> (граница слова).</a></span></dt><dt><span class="section"><a href="ch05s02.html#id2529943">\` (начало буфера).</a></span></dt><dt><span class="section"><a href="ch05s02.html#id2530031">\' (конец буфера).</a></span></dt><dt><span class="section"><a href="ch05s02.html#id2530043">* (любое число повторений).</a></span></dt><dt><span class="section"><a href="ch05s02.html#id2530072">+ (один или больше символов).</a></span></dt><dt><span class="section"><a href="ch05s02.html#id2530090">? (может есть, а может и нет).</a></span></dt><dt><span class="section"><a href="ch05s02.html#id2530105">{I,J} (повторение от I до J раз).</a></span></dt></dl></dd><dt><span class="section"><a href="ch05s03.html">AABS</a></span></dt><dd><dl><dt><span class="section"><a href="ch05s03.html#id2530245">Вступление.</a></span></dt><dt><span class="section"><a href="ch05s03.html#id2530329">Разбор строки утилитой bash.</a></span></dt><dt><span class="section"><a href="ch05s03.html#id2530547">Разбор остальных параметров.</a></span></dt><dt><span class="section"><a href="ch05s03.html#id2530567">Глоббинг</a></span></dt><dt><span class="section"><a href="ch05s03.html#id2530965">Перенаправление в bash'е.</a></span></dt></dl></dd></dl></div><div class="section" title="Команды sed"><div class="titlepage"><div><div><h3 class="title"><a name="id2527794"></a>Команды sed</h3></div></div></div><div class="important" title="Важно" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Важно</h3>
			Все команды <span class="command"><strong>sed</strong></span> состоят из одной латинской буквы.  Малые и БОЛЬШИЕ буквы различаются.
		</div><a name="aci"></a><div class="section" title="a, c, i (Вывод символов из sed-скрипта в выходной поток)."><div class="titlepage"><div><div><h4 class="title"><a name="id2527815"></a><span class="command"><strong>a, c, i</strong></span> (Вывод символов из sed-скрипта в выходной поток).</h4></div></div></div>
			Эти команды не выполняются во время выполнения скрипта, однако они влияют на вывод буфера во время <a class="link" href="ch02.html#e3">третьего этапа</a>. Кроме вывода буфера, выводится так-же параметр команды (a|c|i), при этом, для первой команды вывод параметра идёт ДО буфера, для второй ВМЕСТО, а для третьей ПОСЛЕ. (см так-же <a class="link" href="ch06s03.html#info_aci">info sed</a>).
		</div><a name="btT"></a><div class="section" title="b, t, T (Команды переходов)."><div class="titlepage"><div><div><h4 class="title"><a name="id2527857"></a><span class="command"><strong>b, t, T</strong></span> (Команды переходов).</h4></div></div></div>
				Это команды перехода.  Команда <span class="command"><strong>b</strong></span> осуществляет безусловный переход к метке или (если метка не задана) к концу скрипта (точка между вторым и третьим этапом).  Команда <span class="command"><strong>t</strong></span> осуществляет переход только в том случае, если прошлая команда <span class="command"><strong>s</strong></span> выполнилась успешно.  Команда <span class="command"><strong>T</strong></span> осуществляет переход в случае если замена прошлой командой <span class="command"><strong>s</strong></span> НЕ выполнилась.
				<div class="important" title="Важно" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Важно</h3>
					Если перед командой перехода есть больше одной команды <span class="command"><strong>s</strong></span>, то флаг перехода НЕОБХОДИМО очистить: выполните переход командой <span class="command"><strong>t</strong></span> после команды <span class="command"><strong>s</strong></span> которая ВСЕГДА выполняется. Можно поступить по другому - выполните переход на следующую команду. Не важно как вы туда попадёте, с переходом, или просто к следующей команде, важно что флаг будет сброшен. Пример смотрите чуть выше, в <a class="link" href="ch04s04.html#t06_1">скрипте для подсчёта слов в тексте</a>, а так-же в более простом <a class="link" href="ch04s07.html#lr">примере выравнивания строк</a>.
				</div>
				(см так-же <a class="link" href="ch06s03.html#info_bt">info sed</a>).
				<div class="note" title="Замечание" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Замечание</h3>
					Я посмотрел исходный текст: действительно, флаг перехода устанавливается командой s///, в том случае, если эта команда что-то нашла. Однако она не сбрасывает этот флаг в противном случае. Флаг сбрасывается во время загрузки строки из потока, и при выполнении команд t и T. Потому, если вам нужно перейти в зависимости от флага, и команда s не первая, то следует этот флаг сбросить, таким образом:
					<pre class="screen">
# эта команда иногда находит а иногда не находит, нас не волнует
# её результат
s/XXX/YYY/
# а дальше нам важно, нашли мы что-то, или нет, потому мы сбрасываем
# флаг. Для этого мы выполняем команду перехода, причём так, что-бы
# <span class="emphasis"><em>независимо</em></span> от результата, работа скрипта не
# менялась, т.е. передаём управление туда, куда-бы скрипт перешёл и без
# команды перехода
t label
:label
s/ZZZ/FOUND/
# а вот здесь мы уже можем анализировать результат
# работы команды s///
t is_found_ZZZ</pre>
					Любопытно, что никакие команды не сбрасывают этот флаг, только t и T.
				</div></div><div class="section" title="c (см. a, c, i)."><div class="titlepage"><div><div><h4 class="title"><a name="id2528016"></a><span class="command"><strong>c (см. <a class="link" href="ch05.html#aci">a, c, i).</a></strong></span></h4></div></div></div>.
		</div><div class="section" title="d (блокировка строки)."><div class="titlepage"><div><div><h4 class="title"><a name="id2528028"></a><span class="command"><strong>d</strong></span> (блокировка строки).</h4></div></div></div>
				Эта команда "удаляет" из потока строку.  На самом деле ничего не удаляется, просто эта команда подавляет вывод на <a class="link" href="ch02.html#e3">третьем этапе</a>, потому этой строки будет не видно.  Кроме того, эта команда прерывает выполнение скрипта (как <a class="link" href="ch05.html#btT">команда  <span class="command"><strong>b</strong></span></a>.), т.о. все команды после <span class="command"><strong>d</strong></span> НЕ будут выполнены (конечно это не относится к командам на которые передастся управление командами <a class="link" href="ch05.html#btT"><span class="command"><strong>b, t, T</strong></span></a>, а так же к командам, которые выполнятся если адресное выражение истинно).
				(см так-же <a class="link" href="ch06s03.html#info_d">info sed</a>).
		</div><div class="section" title="D (блокировка первой подстроки в многострочном режиме)."><div class="titlepage"><div><div><h4 class="title"><a name="id2528092"></a><span class="command"><strong>D</strong></span> (блокировка первой подстроки в многострочном режиме).</h4></div></div></div>
				Команда <span class="command"><strong>D</strong></span> работает в точности так-же как и команда <span class="command"><strong>d</strong></span>, если в буфере нет символов перевода строки (\n), если такие символы есть, то команда выполняется иначе:
				<div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Сначала удаляются все символы от начала буфера и до первого символа перевода строки (\n).
					</li><li class="listitem">
						После чего управление передаётся на <a class="link" href="ch02.html#e3">третий этап</a>, но в нём ничего не выводится (вывод подавлен, как и при выполнении команды <span class="command"><strong>d</strong></span>).
					</li><li class="listitem">
						Затем управление передаётся на <a class="link" href="ch02.html#e2">второй этап</a> (НЕ на первый, следующая строка НЕ загружается!).  Таким образом, при использовании этой команды скрипт работает как цикл - обрабатывает строки из буфера до тех пор, пока они не кончатся.
					</li></ol></div><a class="link" href="ch04s07.html#t08">Пример</a> (см так-же <a class="link" href="ch06s03.html#info_dd">info sed</a>).
		</div><div class="section" title="e (выполнение команды оболочки)."><div class="titlepage"><div><div><h4 class="title"><a name="id2528181"></a><span class="command"><strong>e</strong></span> (выполнение команды оболочки).</h4></div></div></div>
				Эта команда выполняет shell-команду как отдельный процесс.  Я её никогда не использую, вместо неё я использую модификатор <code class="option">e</code> команды <span class="command"><strong>s</strong></span>. <a class="link" href="ch04s06.html#ce">Пример</a>. (см так-же <a class="link" href="ch06s03.html#info_e">info sed</a>).
		</div><div class="section" title="g (загрузка области удержания в буфер)."><div class="titlepage"><div><div><h4 class="title"><a name="id2528218"></a><span class="command"><strong>g</strong></span> (загрузка области удержания в буфер).</h4></div></div></div>
				Эта команда копирует содержимое области удержания в буфер. (см так-же <a class="link" href="ch06s03.html#info_g">info sed</a>).
		</div><div class="section" title="G (добавление области удержания к буферу)."><div class="titlepage"><div><div><h4 class="title"><a name="id2528238"></a><span class="command"><strong>G</strong></span> (добавление области удержания к буферу).</h4></div></div></div>
				Эта команда добавляет в конец буфера `\n', а затем добавляет к буферу область удержания. (см так-же <a class="link" href="ch06s03.html#info_gg">info sed</a>).
		</div><div class="section" title="h (загрузка буфера в область удержания)."><div class="titlepage"><div><div><h4 class="title"><a name="id2528260"></a><span class="command"><strong>h</strong></span> (загрузка буфера в область удержания).</h4></div></div></div>
				А эта команда копирует буфер в область удержания. При этом старое содержимое области удержания стирается. (см так-же <a class="link" href="ch06s03.html#info_h">info sed</a>).
		</div><div class="section" title="H (добавление буфера к области удержания)."><div class="titlepage"><div><div><h4 class="title"><a name="id2528284"></a><span class="command"><strong>H</strong></span> (добавление буфера к области удержания).</h4></div></div></div>
				Данная команда сначала добавляет символ новой строки к области удержания, а затем добавляет содержимое буфера к области удержания. (см так-же <a class="link" href="ch06s03.html#info_hh">info sed</a>).
		</div><div class="section" title="i (см. a, c, i)."><div class="titlepage"><div><div><h4 class="title"><a name="id2528309"></a><span class="command"><strong>i</strong></span> (<a class="link" href="ch05.html#aci">см. a, c, i</a>).</h4></div></div></div></div><div class="section" title="l (преобразование непечатных символов)."><div class="titlepage"><div><div><h4 class="title"><a name="id2528322"></a><span class="command"><strong>l (преобразование непечатных символов).</strong></span></h4></div></div></div>
				Вывод строки в переносимом формате: в этом режиме все "неправильные" символы (в т.ч. русские буквы) заменяются на восьмеричный код.  Например:
				<pre class="screen">$ head -n5 test.txt | sed 'l'
\367 \336\243\315 \317\324\314\311\336\311\305 Linux \317\324 Windows\
?$
В чём отличие Linux от Windows?
$

\351\304\305\317\314\317\307\311\336\305\323\313\311\305 \317\324\314\
\311\336\311\321$
Идеологические отличия
$

\357\324\314\311\336\311\321 \317\307\322\317\315\316\331. \344\317\
\323\324\301\324\317\336\316\317 \323\313\301\332\301\324\330, \336\
\324\317 Linux \327\323\243-\324\301\313\311 \316\301\304\317 \322\
\301\323\323\315\301\324\322\311\327\301\324\330 \313\301\313 \317\
\304\311\316 \311\332$
Отличия огромны. Достаточно сказать, что Linux всё-таки надо рассматривать как один из</pre>
В конец каждой строки добавляется `$'. Так-как эта команда не любит русские буквы, я её практически никогда не применяю. (см так-же <a class="link" href="ch06s03.html#info_l">info sed</a>).
		</div><div class="section" title="L (обрезка строк)."><div class="titlepage"><div><div><h4 class="title"><a name="id2528371"></a><a name="cL"></a><span class="command"><strong>L</strong></span> (обрезка строк).</h4></div></div></div>
				Обрезка длинных строк.  Например:
				<pre class="screen">$ sed -n 'L' test.txt
В чём отличие Linux от Windows?
Идеологические отличия
Отличия огромны. Достаточно сказать, что Linux всё-таки надо
рассматривать как один из
диалектов операционной системы UNIX, в то время как Windows является
оригинальной
разработкой компании Microsoft и начиналась как надстройка над
DOS. Таким образом всё что
появилось в Windows спустя годы после выхода в свет: многозадачность,
сетевые протоколы и
т.д., в Linux присутствовало практически изначально. Многие вещи
были просто портированы
(перенесены) в Linux из UNIX. Многие вещи, которые есть в Linux
недоступны в Windows до сих</pre>
				Эта команда только режет строки, а для полноценного выравнивания их нужно ещё и склеивать, поэтому на практике я <a class="link" href="ch04s07.html#t08">выравниваю текст</a> без применения этой команды. (см так-же <a class="link" href="ch06s03.html#info_ll">info sed</a>).

		</div><div class="section" title="n (загрузка следующей строки)."><div class="titlepage"><div><div><h4 class="title"><a name="id2528441"></a><span class="command"><strong>n</strong></span> (загрузка следующей строки).</h4></div></div></div>
				Эта команда загружает <span class="emphasis"><em>следующую</em></span> строку в буфер.  Если строки нет (текущая строка - последняя) происходит прерывание работы скрипта с переходом к третьему этапу. (см так-же <a class="link" href="ch06s03.html#info_n">info sed</a>).
		</div><div class="section" title="N (добавление следующей строки к буферу)."><div class="titlepage"><div><div><h4 class="title"><a name="id2528471"></a><span class="command"><strong>N</strong></span> (добавление следующей строки к буферу).</h4></div></div></div>
				Эта команда работает так-же как <span class="command"><strong>n</strong></span>, однако новая строка не затирает буфер, а добавляется к нему через \n. (см так-же <a class="link" href="ch06s03.html#info_nn">info sed</a>).
		</div><div class="section" title="p (вывод буфера в выходной поток)."><div class="titlepage"><div><div><h4 class="title"><a name="id2528497"></a><span class="command"><strong>p</strong></span> (вывод буфера в выходной поток).</h4></div></div></div>
				Эта команда выводит содержимое буфера в выходной поток. (см так-же <a class="link" href="ch06s03.html#info_p">info sed</a>).
		</div><div class="section" title="P (Вывод первой строки в выходной поток при многострочном режиме)."><div class="titlepage"><div><div><h4 class="title"><a name="id2528517"></a><span class="command"><strong>P</strong></span> (Вывод первой строки в выходной поток при многострочном режиме).</h4></div></div></div>
				Данная команда так-же выводит буфер в выходной поток, однако выводится только первая строка, от начала до первого \n. (см так-же <a class="link" href="ch06s03.html#info_pp">info sed</a>).
		</div><div class="section" title="q (прерывание)."><div class="titlepage"><div><div><h4 class="title"><a name="id2528543"></a><span class="command"><strong>q</strong></span> (прерывание).</h4></div></div></div>
				Команда для выхода из скрипта.  После выполнения третьего этапа скрипт завершается.  Например:
				<pre class="screen">$ sed '5q' test.txt
В чём отличие Linux от Windows?

Идеологические отличия

Отличия огромны. Достаточно сказать, что Linux всё-таки надо рассматривать как один из</pre>
Эта команда может иметь параметр, тогда код завершения скрипта ($?) равен параметру.  <a class="link" href="ch04s06.html#t07_1">Пример</a>. (см так-же <a class="link" href="ch06s03.html#info_q">info sed</a>).
		</div><div class="section" title="Q (прерывание без вывода буфера)."><div class="titlepage"><div><div><h4 class="title"><a name="id2528587"></a><span class="command"><strong>Q</strong></span> (прерывание без вывода буфера).</h4></div></div></div>
				Работает в точности как <span class="command"><strong>q</strong></span>, однако вывод на третьем этапе не происходит. (см так-же <a class="link" href="ch06s03.html#info_qq">info sed</a>).
		</div><div class="section" title="r (чтение файла)."><div class="titlepage"><div><div><h4 class="title"><a name="id2528611"></a><span class="command"><strong>r</strong></span> (чтение файла).</h4></div></div></div>
				Данная команда загружает файл в выходной поток (НЕ в буфер!).  Я её редко использую. (см так-же <a class="link" href="ch06s03.html#info_r">info sed</a>).
		</div><div class="section" title="R (чтение одной строки из файла)."><div class="titlepage"><div><div><h4 class="title"><a name="id2528632"></a><span class="command"><strong>R</strong></span> (чтение одной строки из файла).</h4></div></div></div>
				Эта команда читает одну строчку из файла в выходной поток. (см так-же <a class="link" href="ch06s03.html#info_rr">info sed</a>).
		</div><div class="section" title="s (поиск и замена подстроки)."><div class="titlepage"><div><div><h4 class="title"><a name="id2528652"></a><span class="command"><strong>s</strong></span> (поиск и замена подстроки).</h4></div></div></div>
				Команда замены.  Производит поиск <span class="emphasis"><em>регулярного выражения</em></span> и заменяет его на <span class="emphasis"><em>выражение для замены</em></span>.  Может использоваться со многими <code class="option">модификаторами</code>. (см так-же <a class="link" href="ch06s03.html#info_s">info sed</a>).
		</div><div class="section" title="t (См. b, t, T)."><div class="titlepage"><div><div><h4 class="title"><a name="id2528686"></a><span class="command"><strong>t</strong></span> (См. <a class="link" href="ch05.html#btT"><span class="command"><strong>b, t, T</strong></span></a>).</h4></div></div></div></div><div class="section" title="T (См. b, t, T)."><div class="titlepage"><div><div><h4 class="title"><a name="id2528700"></a><span class="command"><strong>T</strong></span> (См. <a class="link" href="ch05.html#btT"><span class="command"><strong>b, t, T</strong></span></a>).</h4></div></div></div>
			(см так-же <a class="link" href="ch06s03.html#info_tt">info sed</a>).
		</div><div class="section" title="v (проверка версии)."><div class="titlepage"><div><div><h4 class="title"><a name="id2528721"></a><span class="command"><strong>v</strong></span> (проверка версии).</h4></div></div></div>
				Проверка версии <span class="command"><strong>sed</strong></span>.  Например:
				<pre class="screen">$ sed 'v 4.7' ~/.bashrc
sed: -e expression #1, char 5: expected newer version of sed
$ sed 'v 3' /home/doc/.bashrc
# .bashrc

DT=`date`
...
				</pre>
				Таким образом <span class="command"><strong>sed</strong></span> выполняется только если её версия достаточно новая.
				<div class="tip" title="Подсказка" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Подсказка</h3>
					Можно использовать эту команду для написания скриптов, в которых используются новые команды, например <span class="command"><strong>z</strong></span>.
				</div>
				(см так-же <a class="link" href="ch06s03.html#info_v">info sed</a>).
		</div><div class="section" title="w (запись файла)."><div class="titlepage"><div><div><h4 class="title"><a name="id2528769"></a><span class="command"><strong>w</strong></span> (запись файла).</h4></div></div></div>
				Запись буфера в файл. (см так-же <a class="link" href="ch06s03.html#info_w">info sed</a>).
		</div><div class="section" title="W (запись одной строки в файл)."><div class="titlepage"><div><div><h4 class="title"><a name="id2528786"></a><span class="command"><strong>W</strong></span> (запись одной строки в файл).</h4></div></div></div>
				Запись буфера в файл. Записывается только одна строка, при этом запись происходит в конец файла, как при использовании перенаправления &gt;&gt;. (см так-же <a class="link" href="ch06s03.html#info_ww">info sed</a>).
		</div><div class="section" title="x (обмен)."><div class="titlepage"><div><div><h4 class="title"><a name="id2528811"></a><span class="command"><strong>x</strong></span> (обмен).</h4></div></div></div>
			Обмен содержимого области удержания и буфера. (см так-же <a class="link" href="ch06s03.html#info_x">info sed</a>).
		</div><div class="section" title="y (замена символов)."><div class="titlepage"><div><div><h4 class="title"><a name="id2528829"></a><span class="command"><strong>y</strong></span> (замена символов).</h4></div></div></div>
			Замена символов.  Меняет символы из первого списка на символы из второго.  <a class="link" href="ch04s04.html#cy">Пример.</a> (см так-же <a class="link" href="ch06s03.html#info_y">info sed</a>).
		</div><div class="section" title="z (очистка)."><div class="titlepage"><div><div><h4 class="title"><a name="id2528854"></a><span class="command"><strong>z</strong></span> (очистка).</h4></div></div></div><div class="warning" title="Внимание" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Внимание</h3>
				Это новая команда, она не работает в большинстве старых реализациях <span class="command"><strong>sed</strong></span>.
			</div>
			Команда <span class="command"><strong>z</strong></span> очищает буфер. (см так-же <a class="link" href="ch06s03.html#info_z">info sed</a>).
		</div><div class="blockquote"><blockquote class="blockquote"><p>
		Вы можете обсудить этот документ на <a class="ulink" href="http://emulek.tk/forum/viewtopic.php?f=19&amp;t=5026" target="_top">форуме</a>. Текст предоставляется по лицензии <a class="ulink" href="http://www.gnu.org/licenses/fdl.html" target="_top">GNU Free Documentation License</a> (<a class="ulink" href="http://forum.lorcode.org/viewtopic.php?f=15&amp;t=30" target="_top">Перевод лицензии GFDL</a>).
	</p><p>
		Вы можете пожертвовать небольшую сумму яндекс-денег на счёт <span class="command"><strong>41001666004238</strong></span> для оплаты хостинга, интернета, и прочего. Это конечно добровольно, однако это намного улучшит данный документ (у меня будет больше времени для его улучшения). На самом деле, проект часто находится на грани закрытия, ибо никаких денег никогда не приносил, и приносить не будет. Вы можете мне помочь. Спасибо.
	</p></blockquote></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch04s18.html">Пред.</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ch05s02.html">След.</a></td></tr><tr><td width="40%" align="left" valign="top">Интерактивная sed. </td><td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td><td width="40%" align="right" valign="top"> Метасимволы и квантификаторы.</td></tr></table></div></body></html>
